<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Date</th>
      <th>Time In</th>
      <th>Time Out</th>
      <th>Break</th>
    </tr>
  </thead>

  <tbody>

<%= form_tag roll_call_update_path(method: :put) do %>
  <% @records.each do |record| %>
  <%= fields_for "records[]", record do |r| %>
    <% #s.fields_for :attendance_records, student.attendance_records.create do |r| %>
    <tr>
      <td><%= Student.find_by(id: record.student_id).display_name %></td>
      <td><%= r.date_select :date, id: :attendance_record_date %></td>
      <td><%= r.time_select :time_in, :minute_step => 15, :start_hour => 8, :end_hour => 21, :ampm => true, :include_blank => true, id: :attendance_record_time_in %></td>
      <td><%= r.time_select :time_out, :minute_step => 15,:start_hour => 8, :end_hour => 21, :ampm => true, id: :attendance_record_time_out, :include_blank => true %></td>
      <td><%= r.number_field :break, :step => 15, id: :attendance_record_break %></td>
    </tr>
    <%= r.hidden_field :student_id, value: record.student_id %>
    <% end %>
    <% end %>
  
  </tbody>
</table>
  <%= submit_tag 'Submit Attendance' %>
<% end %>